pico-8 cartridge // http://www.pico-8.com
version 42
__lua__
#include ../lib/vector2.lua
#include ../lib/collision.lua
#include ../player.lua
#include ../bullets.lua
#include ../wobubble.lua
#include ../texteffects.lua
#include ../death_animation.lua
#include ../particles.lua


function _init()
  hero = player(v2(0,0))
  bullets = {
    new_bullet(v2(67,64),v_zero),
    new_bullet(v2(12,130),v_zero),
    new_bullet(v2(30,60),v_zero),
  }
end

function _update()
  local collisions = collision(hero, bullets)
  for c in all(collisions) do
    --print(c)
  end
  hero:update()
end

function _draw()
  rectfill(0,0,127,127,0)
  circ(hero.pos.x,hero.pos.y,4,8)
  for b in all(bullets) do
    circ(b.pos.x,b.pos.y,2,8)
    if collider_overlaps(hero:collider(), b:collider()) then
      circ(b.pos.x,b.pos.y,2,10)
    end
  end
end
__gfx__
00000000000000000000000000000000005555000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000053333500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700000000000000000000000000533443350000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000000000000000000000000000534224350000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000000000000000000000000000534224350000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700000000000000000000000000533443350000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000053333500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000005555000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
